<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>New Post Form</title>
	<div th:replace="forum/head :: head"></div>
	<style>
		/* Add some styles for the acknowledgment popup */
		.popup {
			display: none;
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background-color: #ffffff;
			border: 1px solid #ccc;
			padding: 20px;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
		}
	</style>
</head>

<body>
	<div th:replace="forum/navbar :: navbar"></div>


	<div class="container h-100">
		<div class="row justify-content-center h-100 align-items-center">
			<div class="col-md-6">
				<div class="card" style="margin-top: 9rem;">
					<div class="card-header">Create Post</div>
					<div class="card-body">
						<form method="post" action="#" th:action="@{/forum/post/add}" th:object="${postForm}"
							id="myForm">
							<div class="form-group mb-3">
								<label for="username">Title</label>
								<input type="text" class="form-control" id="content" name="title"
									placeholder="Enter title" required>
							</div>
							<div class="form-group mb-3">
								<label for="password">Content</label>
								<input class="form-control" id="content" name="content" placeholder="Enter Content"
									required>
								<input type="hidden" th:field="*{userId}">
							</div>
							<button type="submit" class="btn btn-primary">Submit</button>
						</form>
						<div id="acknowledgmentPopup" class="popup">
							<p>Your form has been submitted successfully!</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div th:replace="forum/scripts :: scripts"></div>
	<script>

		document.getElementById("myForm").addEventListener("submit", function (event) {

			event.preventDefault();
			document.getElementById("acknowledgmentPopup").style.display = "block";

			setTimeout(function () {
				document.getElementById("acknowledgmentPopup").style.display = "none";
				document.getElementById("myForm").submit();
			}, 2000); 
		});
	</script>
</body>

</html>